<!-- https://bkrs.info/slovo.php?ch=琴鍵龍設計這麼好、鋪成這麼多，你還給自己的BGM -->
<!-- https://bkrs.info/slovo.php?ch=鋼琴龍：我一出來就分解了，死亡動畫都沒有，作者連我的最後一餐只有空氣！老天啊～天要亡我 -->

---

# прокручиваемые слова

верхняя строка имеет все символы, карточки только иероглифы

в верхней строке нужно определить центры всех словосочетаний, для этого трансформировать прогресс 0..1 в массив пикселей по х. напр `[0..1] => учесть кол-во карточек (5) [0.0..0.2..0.4..0.6..0.8..1.0] => (позиция х каждого центра на верхней строке) [0..-60..-232..-276..-343]`

функция определяет, какой сегмент должен подсвечиваться. когда пролистанные карточки = 4.1, то сегмент 5 должен начинать подсвечиваться, пока

когда прогресс 0, первая карта в центре. когда прогресс 1, последняя карта в центре.

```ts
type _ = {
  segments: {
    text: string
    forCards: number[]
  }[]
}
```

---

- лаг от модалки: каждый `ChLink` имеет поповер, нужно оставить только один на весь компонент
- по поиску "округ" в китайских словах есть якори на бкрс, а не `Link` на мкрс

<!-- # Структура результата

## русские символы

- перевод `.ch_ru` (не всегда, ожидается законченное слово)
- начинается с (startsWith) `#ru_from` (не всегда, ожидается незаконченное слово)
- слова с `#words_start_with` (не всегда, ожидается законченное слово, есть у 50% законченных слов)
- в рус словах (типы примеры) `#ruch_fullsearch` (не всегда, ожидается любое слово, есть у 70% слов)
- синонимы `#synonyms_ru` (не всегда, 30%)
- примеры `#examples` (не всегда, ожидается любое слово, 80% у законченных, 70% у незаконченных)

- В КИТ СЛОВАХ (ТИПА ПРИМЕРЫ) `#xinsheng_fullsearch` (не всегда, ожидается любое слово, 100% у законченных, 90% у незаконченных)

## иероглиф(-ы)

- перевод `.ru` (не всегда, 95%)
- начинающиеся (startsWith) `#ch_from` (не всегда, 50%)
- в рус словах (типы примеры) `#ruch_fulltext` (не всегда, 40%)
- синонимы `#synonyms` (не всегда, 95%)
- примеры `#examples` (не всегда, 50%)

- ССЫЛКИ С `#backlinks` (не всегда, 65%)
- ПОСЛОВНЫЙ `.tbl_bywords` (не всегда, ожидается длинное словосочетание/предложение, 0-100%)
- ФРАЗЫ СО СЛОВОМ (ЧАСТОТНОСТЬ) `#frequency_words_here` (не всегда, 90%)

## пининь

- выбор слова/фразы
- не найдено -->
